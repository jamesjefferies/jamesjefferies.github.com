
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>James Jefferies and ShedCode Ltd</title>
  <meta name="author" content="James Jefferies">
  <meta name="google-site-verification" content="x0Mk5K7-ZW7IoUe7Xczv5TvjRygnWGAboUyzxMYYDm0" />
  
  <meta name="description" content="run kill -QUIT for the jvm and it&#8217;ll give you a useful summary of threads which are running, plus how much memory is being used!
">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jamesjefferies.com/blog/page/9/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href='http://fonts.googleapis.com/css?family=Bevan' rel='stylesheet' type='text/css'>
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="James Jefferies and ShedCode Ltd" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3110855-6']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">James Jefferies and ShedCode Ltd</a></h1>
  
    <h2>The world of James and ShedCode</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jamesjefferies.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/08/24/finding-running-threads-on-a-jvm/">Finding Running Threads on a JVM</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-24T00:03:08+01:00" pubdate data-updated="true">Aug 24<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>run kill -QUIT <pid> for the jvm and it&#8217;ll give you a useful summary of threads which are running, plus how much memory is being used!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/08/18/apple-keyboards-boot-keys-and-mac-minis/">Apple Keyboards, Boot Keys and Mac Minis</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-18T19:34:47+01:00" pubdate data-updated="true">Aug 18<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So, I thought I&#8217;d completely bust one of the Mac Minis I bought on ebay. It&#8217;s a dual core Intel 1.66Mhz Mini and I have one of the recent aluminium, USB Apple keyboards. Nice combo huh? Well, it would be if you could input key combinations at start up, say for example if you&#8217;d bodged up your boot camp install&#8230;</p>

<p>.. well, you&#8217;re stuffed, because the Aluminium keyboards don&#8217;t work on Intel Minis during the boot sequence. How crappity is that?! So, a lot of trying out different things, until I borrowed a Dell keyboard from work. It felt dirty plugging it in to the Mac, but at least the Mac listened to what it was saying! Now, I&#8217;m happily booted back in to OS X, stumped at the lack of backwards compatibility provided by a keyboard.. yes, that&#8217;s a keyboard..</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/08/14/maybe-we-could-use-jmeter/">Maybe We Could Use Jmeter?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-14T18:02:30+01:00" pubdate data-updated="true">Aug 14<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>http://jakarta.apache.org/jmeter/</p>

<p>or jprobe</p>

<p>http://www.quest.com/common/registration.aspx?requestdefid=18937</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/07/14/so-you-want-to-add-comments-to-a-facelets-page/">So You Want to Add Comments to a Facelets Page?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-07-14T15:15:55+01:00" pubdate data-updated="true">Jul 14<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Simple, use the remove tag. This gets stripped out very early on and will not be rendered.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;ui:remove&gt;</span>
</span><span class='line'>This is a comment basically, will get stripped out when facelets sorts out the templates...
</span><span class='line'><span class="nt">&lt;/ui:remove&gt;</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/07/09/myfaces-12-and-tomcat-6/">Myfaces 1.2 and Tomcat 6</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-07-09T16:39:13+01:00" pubdate data-updated="true">Jul 9<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Well, after much head scratching, it appears that myfaces 1.2 (.3 specifically) doesn&#8217;t play ball with tomcat 6.0.14. A class cast error occurs when setting values determined by a select box.</p>

<p>Not only is this a bit rubbish, but it&#8217;s cost me virtually a day of pain to work out what the problem was, and back out some changes.</p>

<p>Consequently I&#8217;ve gone back to myfaces 1.1.5 - painful, but true, as I&#8217;m not sure I&#8217;d be able to get the nod to upgrade the tomcats to 6.0.16 - which does seem to work.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/07/09/svcadm-on-solaris/">Svcadm on Solaris</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-07-09T12:06:10+01:00" pubdate data-updated="true">Jul 9<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>svcadm is the service admin command line thing on solaris</p>

<p>e.g. svcadm enable tomcat will switch on the tomcat managed service</p>

<p>if a service doesn&#8217;t start</p>

<p>svcs - all services</p>

<p>svcs -x  services with exceptions (in maintenance mode)</p>

<p>svcs -x -v as above, more verbose</p>

<p>svcadm clear tomcat - clears any exceptions</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/05/23/easy-way-to-find-dependencies-for-java-archives/">Easy Way to Find Dependencies for Java Archives</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-23T14:15:08+01:00" pubdate data-updated="true">May 23<span>rd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Find them in archiva and then follow through with the dependent on tag. Helps to work out which dependencies you might need to add an exclude on</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/05/23/migration-from-myfaces-11-to-12/">Migration From MyFaces 1.1 to 1.2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-23T14:11:31+01:00" pubdate data-updated="true">May 23<span>rd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Number of things need to be done:</p>

<p>1) Update dependencies for api and implementation jars</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;dependency&gt;</span>
</span><span class='line'><span class="nt">&lt;groupId&gt;</span>org.apache.myfaces.core<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'><span class="nt">&lt;artifactId&gt;</span>myfaces-api<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'><span class="nt">&lt;version&gt;</span>1.2.3<span class="nt">&lt;/version&gt;</span>
</span><span class='line'><span class="nt">&lt;/dependency&gt;</span>
</span><span class='line'><span class="nt">&lt;dependency&gt;</span>
</span><span class='line'><span class="nt">&lt;groupId&gt;</span>org.apache.myfaces.core<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'><span class="nt">&lt;artifactId&gt;</span>myfaces-impl<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'><span class="nt">&lt;version&gt;</span>1.2.3<span class="nt">&lt;/version&gt;</span>
</span><span class='line'><span class="nt">&lt;/dependency&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Note: The api package replaces the standard javax.faces functionality. The iml is the actual implementation</p>

<p>2) Ensure that anything which depends on the javax.el (expression language) package doesn&#8217;t pull it in to the maven build as we end up with the version embedded in myfaces <em>and</em> the version pulled in. This can be done by:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;dependency&gt;</span>
</span><span class='line'><span class="nt">&lt;groupId&gt;</span>org.jboss.jsfunit<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'><span class="nt">&lt;artifactId&gt;</span>jboss-jsfunit-core<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'><span class="nt">&lt;version&gt;</span>1.0-beta-1<span class="nt">&lt;/version&gt;</span>
</span><span class='line'><span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
</span><span class='line'><span class="nt">&lt;exclusions&gt;</span>
</span><span class='line'><span class="nt">&lt;exclusion&gt;</span>
</span><span class='line'><span class="nt">&lt;artifactId&gt;</span>el-api<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'><span class="nt">&lt;groupId&gt;</span>javax.el<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'><span class="nt">&lt;/exclusion&gt;</span>
</span><span class='line'><span class="nt">&lt;/exclusions&gt;</span>
</span><span class='line'><span class="nt">&lt;/dependency&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>and</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;dependency&gt;</span>
</span><span class='line'><span class="nt">&lt;groupId&gt;</span>org.jboss.el<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'><span class="nt">&lt;artifactId&gt;</span>jboss-el<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'><span class="nt">&lt;version&gt;</span>2.0.1.GA<span class="nt">&lt;/version&gt;</span>
</span><span class='line'><span class="nt">&lt;exclusions&gt;</span>
</span><span class='line'><span class="nt">&lt;exclusion&gt;</span>
</span><span class='line'><span class="nt">&lt;artifactId&gt;</span>el-api<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'><span class="nt">&lt;groupId&gt;</span>javax.el<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'><span class="nt">&lt;/exclusion&gt;</span>
</span><span class='line'><span class="nt">&lt;/exclusions&gt;</span>
</span><span class='line'><span class="nt">&lt;/dependency&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Issues</p>

<p>Apparently JSF 1.2 and consequently MyFaces 1.2 move away from the old expression language to use some new unified version. This article describes it, but to be honest it all seems a bit of a faff.</p>

<p>This means that as our application stands, switching to 1.2 involves using some deprecated functionality. In BaseManagedBean the valuebinding functionality is now deprecated (in italics). It works, but at some point we&#8217;d want to switch it across, from ValueBinding to ValueExpression (easier said than done)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">Object</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">FacesContext</span><span class="o">.</span><span class="na">getCurrentInstance</span><span class="o">().</span><span class="na">getApplication</span><span class="o">().</span><span class="na">_createValueBinding_</span><span class="o">(</span><span class="s">&quot;#{&quot;</span> <span class="o">+</span><span class="err"> </span> <span class="n">bindingName</span> <span class="o">+</span> <span class="s">&quot;}&quot;</span><span class="o">).</span><span class="na">_getValue_</span><span class="o">(</span><span class="n">FacesContext</span><span class="o">.</span><span class="na">getCurrentInstance</span><span class="o">());</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="http://java.sun.com/javaee/javaserverfaces/docs/ReleaseNotes.html#migrating">http://java.sun.com/javaee/javaserverfaces/docs/ReleaseNotes.html#migrating</a></p>

<p><a href="http://java.sun.com/products/jsp/reference/techart/unifiedEL.html#Migrating_to_the_Unified_EL">http://java.sun.com/products/jsp/reference/techart/unifiedEL.html#Migrating_to_the_Unified_EL</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/05/12/class-equals/">Class Equals</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-12T14:41:23+01:00" pubdate data-updated="true">May 12<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>ok, so if you don&#8217;t want to do the instanceof (which allows subclasses to pass) you simply want to use .equals.. as so:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">classA</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="n">classB</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/05/12/difference-between-instanceof-and-isinstance/">Difference Between Instanceof and isInstance</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-12T11:52:28+01:00" pubdate data-updated="true">May 12<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>f  you use instanceof or isInstance it will succeed if the class can be &#8216;upcast&#8217;, so if it inherits from what you&#8217;re comparing it to..</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">classA</span> <span class="k">instanceof</span> <span class="n">classB</span>
</span></code></pre></td></tr></table></div></figure>


<p>is true if classA is of a type inherited from classB</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">classA</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">isInstance</span><span class="o">(</span><span class="n">ClassB</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
</span></code></pre></td></tr></table></div></figure>


<p>isInstance allows you to do it dynamically though</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/10/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/8/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2012/08/14/before-you-buy-a-berg-little-printer-dot-dot-dot/">Before you buy a Berg Little Printer&#8230;</a>
      </li>
    
      <li class="post">
        <a href="/2012/08/07/importing-network-rail-train-movement-feeds-into-mongodb/">Importing Network Rail Train Movement feeds into MongoDB</a>
      </li>
    
      <li class="post">
        <a href="/2012/08/01/moving-from-wordpress-to-octopress/">Moving from WordPress to Octopress</a>
      </li>
    
      <li class="post">
        <a href="/2012/07/18/downloading-the-network-rail-schedules/">Downloading the Network Rail Schedules</a>
      </li>
    
      <li class="post">
        <a href="/2012/07/16/the-electrified-spine-and-the-rest-of-the-news/">The Electrified Spine (and the rest of the news)</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/jamesjefferies">@jamesjefferies</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jamesjefferies',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("shedcode", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/shedcode" class="twitter-follow-button" data-show-count="false">Follow @shedcode</a>
  
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - James Jefferies -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'jamesjefferiesblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
