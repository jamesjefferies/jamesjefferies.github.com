<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: java | James Jefferies and ShedCode Ltd]]></title>
  <link href="http://jamesjefferies.github.com//categories/java/atom.xml" rel="self"/>
  <link href="http://jamesjefferies.github.com/"/>
  <updated>2012-07-26T14:30:00+01:00</updated>
  <id>http://jamesjefferies.github.com/</id>
  <author>
    <name><![CDATA[James Jefferies]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Whatever next - the technical stuff]]></title>
    <link href="http://jamesjefferies.github.com/2012/06/15/whatever-next-the-technical-stuff/"/>
    <updated>2012-06-15T12:51:02+01:00</updated>
    <id>http://jamesjefferies.github.com/2012/06/15/whatever-next-the-technical-stuff</id>
    <content type="html"><![CDATA[<p>In recent years my main programming language has been Java, sprinkled with a bit of the usual korn/zsh scrips, SQL, HTML, JavaScript and other gubbins. The world of Java is rich with libraries, web frameworks, platforms and alternate languages. I've invested a lot of time in this ecosystem, knowing which tools are useful for which problems, gained expertise in various web frameworks, development environments and platforms, generally to be as productive as I've ever been.</p>

<p>For the last couple of years though, I've been pondering whether to stick with what I know, or to spend time learning some new stuff. It is fair to say that I'm not a natural polyglot. I like to spend decent time getting to know a language and it's ecosystem and I find it can be tricky switching.</p>

<h3>Grails &amp; Groovy</h3>

<p>At first I spent a bit of time, starting to get to know <a href="http://grails.org">Grails</a>, basically using <a href="http://groovy.codehaus.org/">Groovy</a> on the JVM (Java Virtual Machine) to build a Rails like web framework. The rest of the Grails stack is also stuff which I know very well, Spring, Hibernate etc. There is a lot I like about Grails and I've yet to investigate all this is new in the latest 2.0 release.</p>

<p>So, there you go, something I'd like, building upon a lot which I already know. Should be the favourite right?</p>

<h3>Scala &amp; Play/Lift</h3>

<p>Well, I then started thinking a bit about <a href="http://www.scala-lang.org/">Scala</a>, a language which polarises opinion, especially amongst the Java community. It is either the 'new' Java or it is a hodge podge of static typed semi functional programming. People complain about it's complexity or love how doing things in a more functional fashion reduces code and maintenance and gets it all set up for multi-core CPUs. If I was planning on doing more 'corporate' work, working on huge projects in London or building a twitter competitor then it'd make sense for me to have a good look at Scala.</p>

<p>But I'm not, maybe ShedCode will work on an idea which will one day be huge, I think I'll worry about that another time!</p>

<h3>Clojure</h3>

<p>I'd also like to learn <a href="http://clojure.org/">Clojure</a>, mainly because I think it will be good for my programming skills and good for my brain.</p>

<h3>Rails &amp; Ruby</h3>

<p>Then, working on <a href="http://happenstanceproject.com">Happenstance</a> has made me think again...</p>

<p>In early 2008 I was going to investigate <a href="http://rubyonrails.org/">Rails</a> &amp; Ruby, one because I liked the fact it was called Rails, but then also because it seemed to be gaining a lot of momentum and interest and it was 'cool'. In the end I got a job doing java, so I put it on the back burner. I also started to realise that, as is often the case where things are a bit 'cool' there were quite a few.. ahem.. nobbers around who not only believed that Rails was THE framework to use but that using anything else was such a POOR substitute. I have to be honest, it did my nut. I did meet a few people who seemed ok, but the majority, I didn't really get on with.</p>

<p>Now I find that a lot of the R&amp;D web apps I'm interested in, have been built with Rails. I've also met some more Rails devs who are not nobbers, in fact, they are interesting, helpful, open minded people. I'd like to work with some of them, I'd like to build things on top of the work they've done. I'd like to explore the Rails ecosystem which has inspired so much in other languages (like Grails for example).</p>

<h3>Client Side</h3>

<p>Even though over the last few weeks, I've been thinking more about whether the classic server side MVC web framework is what I should be looking at all. There is a significant trend for using client side JavaScript frameworks for doing a lot of the hardwork in the browser, whilst having a more simple RESTful service/API set up on the server. Examples would be <a href="http://documentcloud.github.com/backbone/">Backbone.js</a>, <a href="http://emberjs.com/">Ember.js</a>, <a href="http://knockoutjs.com/">Knockout.js</a> etc. This somehow feels like a good idea, but I'm not great with JavaScript and I'm not sure this is what I want to do just yet. Obviously improving my JavaScript knowledge would be useful regardless!</p>

<h3>Crossroads</h3>

<p>So, I find myself at a crossroads. I'll spend some time with Clojure, regardless of what else I do, but I've got some interesting projects to start in the next month or so and I need to decide whether I:</p>

<ol>
<li><p>Learn Rails and see what happens...</p></li>
<li><p>Go with what I know a bit and build something with Grails. I know the tools, I know the libraries and I know it works (mainly)</p></li>
<li><p>Client side JavaScript stuff</p></li>
<li><p>Go with Scala, build on top of the Java I know and become have decent with functional languages</p></li>
</ol>


<p>At the moment, these are in my preferred order, but I'll let you know what happens...</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Running Eclipse under the Unity interface]]></title>
    <link href="http://jamesjefferies.github.com/2011/09/09/running-eclipse-under-the-unity-interface/"/>
    <updated>2011-09-09T10:00:36+01:00</updated>
    <id>http://jamesjefferies.github.com/2011/09/09/running-eclipse-under-the-unity-interface</id>
    <content type="html"><![CDATA[<p>Unity eh? Love it or hate it the version in Ubuntu 11.04 seems not quite complete. Also other applications sometimes will not play nicely.</p>

<p>Eclipse is one of them, your menu items can go walk about. I found this <a href="http://blog.matto1990.com/2011/04/using-eclipse-under-ubuntu-11-04-natty/">blog post</a> which has a helpful hint. Unsetting UBUNTU_MENUPROXY for the application does the trick</p>

<pre><code>#!/bin/bash
unset UBUNTU_MENUPROXY
path/to/eclipse/here
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Disabling liquibase when running unit tests]]></title>
    <link href="http://jamesjefferies.github.com/2011/08/25/disabling-liquibase-when-running-unit-tests/"/>
    <updated>2011-08-25T10:33:44+01:00</updated>
    <id>http://jamesjefferies.github.com/2011/08/25/disabling-liquibase-when-running-unit-tests</id>
    <content type="html"><![CDATA[<p>If you're running Liquibase, configured by Spring (or whatever) and you don't want it to run it's checks when running unit tests, you can disable it from running by setting a system property.</p>

<p>Whilst running a single unit test class many times, you might want to add a system set property call before any of the tests are run. Hence:</p>

<p>``` java  <br/>
@BeforeClass
public static void switchOffLiquibase() {</p>

<pre><code>System.setProperty(Liquibase.SHOULD_RUN_SYSTEM_PROPERTY, "false");
</code></pre>

<p>}
```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[The Scala Momentum builds...]]></title>
    <link href="http://jamesjefferies.github.com/2011/04/06/the-scala-momentum-builds/"/>
    <updated>2011-04-06T13:01:22+01:00</updated>
    <id>http://jamesjefferies.github.com/2011/04/06/the-scala-momentum-builds</id>
    <content type="html"><![CDATA[<p>Scala is a relatively new programming language, which runs on the Java Virtual Machine and has very good interoperability with the Java Language.</p>

<p>Here is the blurb from <a href="http://www.scala-lang.org/">the official site</a></p>

<p>"Scala is a general purpose programming language designed to express common programming patterns in a concise, elegant, and type-safe way. It smoothly integrates features of object-oriented and functional languages, enabling Java and other programmers to be more productive. Code sizes are typically reduced by a factor of two to three when compared to an equivalent Java application."</p>

<p>The bit which gets managers excited is the bit where it says "more productive", the bit which gets technical architects excited is the bit where it says "smoothly integrates" and the bits which get developers excited is all of it!</p>

<p>Some people see Scala being the natural successor to Java, indeed some of our developers have spent a little bit of time having a look at the language and the main web framework, <a href="http://liftweb.net/">Lift</a>. <a href="http://seventhings.liftweb.net/">This sells lift pretty well</a>.</p>

<p>So, why post about it - well, as well as Scala being something we should be looking at, I spotted a <a href="http://www.infoq.com/articles/guardian_scala">great blog post</a> talking about how the Guardian newspaper have started using Scala. Once they started, they couldn't stop! I like this bit:</p>

<p>"After about four weeks of writing just the tests in Scala, we got fed up of having to write the main code in Java, and decided to convert the whole lot to Scala."</p>

<p>and this bit was a real eye opener:</p>

<p>"The core Java platform that delivers <a href="http://www.guardian.co.uk">www.guardian.co.uk</a> has a full release every two weeks. Compared with many enterprise Java applications, this is excellent. Compared with other websites, it's very poor."</p>

<p>Food for thought people, food for thought...</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Testing the Grails, Spring Security, LDAP combo]]></title>
    <link href="http://jamesjefferies.github.com/2011/01/06/testing-the-grails-spring-security-ldap-combo/"/>
    <updated>2011-01-06T16:00:46+00:00</updated>
    <id>http://jamesjefferies.github.com/2011/01/06/testing-the-grails-spring-security-ldap-combo</id>
    <content type="html"><![CDATA[<p>For running unit tests &amp; integration tests, you might not want to run against an existing LDAP directory, maybe because you're working remotely, or because you want a disposable directory to throw away after you've run your tests. Well, there is a <a href="http://www.grails.org/plugin/ldap-server">grails plugin</a> which adds an embedded LDAP directory (ApacheDS) to your application which can be fired up as/when required.</p>

<p>After installing the plugin, it requires a bit of configuration, so in your Config.groovy:</p>

<p>``` groovy</p>

<pre><code>environments {
    development {       
        // Embedded ldap server 
        ldapServers {
            d1 {
                base = "dc=people,dc=companyname,dc=int"
                port = 10389
                indexed = ["objectClass", "uid", "mail", "userPassword"]
            }
        }
        grails.plugins.springsecurity.ldap.context.server = 'ldap://localhost:10389'
    }
    ....
</code></pre>

<p>```</p>

<p>So now, when the app is instantiated in the development environment, you have an ldap directory running on localhost, post 10389. You might want to change what is indexed depending on what details you actually want indexing!</p>

<p>If you wanted some default data loaded when the ldap server starts, simply add an ldif file to the grails-app/ldap-servers/d1/data directory. This gets auto loaded:</p>

<p>```</p>

<pre><code>dn: ou=group,dc=people,dc=companyname,dc=int
objectClass: top
objectClass: organizationalUnit
ou: group

dn: ou=People,dc=people,dc=companyname,dc=int
objectClass: organizationalUnit
ou: People

dn: uid=jjefferies,ou=People,dc=people,dc=companyname,dc=int
uid: jjefferies
objectClass: uidObject
objectClass: top
objectClass: person
objectClass: organizationalPerson
cn: James Jefferies
sn: Jefferies
userPassword: {SHA}ERnP637iUzV+A0oI2ETuol9v0g8=
</code></pre>

<p>```</p>

<p>To run unit tests against it, a reference to the server get's injected in to your test class and then you can run some tests against it:</p>

<p>``` groovy</p>

<pre><code>class LdapTests extends GroovyTestCase {

    def d1LdapServer    

    void testLdapServerShouldExist() {
        assert d1LdapServer.exists("uid=jjefferies,ou=People,dc=people,dc=companyname,dc=int")
    }

    void testJJUserIsThere() {      
        def user = d1LdapServer["uid=jjefferies,ou=People,dc=people,dc=companyname,dc=int"]
        assert "James Jefferies" == user.cn.first() // cn is a multi valued string attribute        
    }
}
</code></pre>

<p>```</p>

<p>If you're doing the full spring security with custom rolled retrieval of Roles and you want to test it, then you need to make sure you've bootstrapped those users too, so that the roles are retrieved as well as the user being authenticated.</p>
]]></content>
  </entry>
  
</feed>
